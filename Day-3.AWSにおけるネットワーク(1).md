# Day 3. AWSにおけるネットワーク(1)

## リージョンとアベイラビリティゾーン

### リージョンとは

複数のデータセンターを束ねた地域的な集まり。

- 東京リージョン

### アベイラビリティゾーンとは

データセンターそれぞれ。AZ。

- ap-northeast-1a
- ap-northeast-1c
- ap-northeast-1d

## VPCとサブネット

### VPCとは

アカウントごとに独立したネットワークを作ることができる。

VPCはAZをまたがって作る。

### サブネットとは

VPCの中の一部のネットワーク帯域。DMZなどを分けるのに利用する。

サブネットはAZに紐づけて作る。したがって、冗長化はサブネットを分けて配置するように考える。つまり、AZを分けけて配置することになる。

## 構築

### VPC

VPCの作成と同時にInternet GWとパブリックサブネットを作成することができる。

しかし、追加でサブネットを作成すると、このルートテーブルはInternet GWを向いていない。ので、パブリックサブネットを作成したいときはルートテーブルを変更する必要がある。

### EC2

「自動割り当てパブリックIP」を「有効化」して、（固定ではないが）グローバルIPアドレスを割り当てるようにする。

- /etc/sysconfig/network でホスト名の変更
- /etc/hosts でホスト名（ローカルホスト）の追記
- （ここでリブート）
- /etc/sysconfig/i18n で言語を変更
  - `LANG=ja_JP.UTF-8`
- ファイルコピーしてタイムゾーンを設定
  - `$ sudo cp /usr/share/zoneinfo/Japan /etc/localtime`
- /etc/sysconfig/clock でタイムゾーンを変更
  - `ZONE="Asia/Tokyo"`

あとはhttpd24とphp70関係のいろいろをインストールして初期設定した。