# Day 2. EC2インスタンスを起動してみる

## EC2

OSやイメージから立ち上げるサーバー。

### リージョンの選択

インスタンスを立てる前に、リージョンを東京にしておく。リージョンは画面右上、IAMユーザーの右に表示されている。

### セキュリティグループ

セキュリティグループはいわゆるファイアウォールの設定。

### キーペアの作成

新しく作成してキーをダウンロードできるのはこのタイミングだけなので注意。

### sshでログイン

ユーザー名は`ec2-user`。キーペアの作成でダウンロードした.pemファイルを`-i`オプションで指定してsshする。接続先は次のいずれかでよさそう。

- パブリック DNS (IPv4)
- IPv4 パブリック IP

## AMI

EC2の断面。EC2インスタンスを作るもとにする。（なお、Snapshotはディスク（EBS）の断面。）

### 停止

AMIを作成する前にEC2インスタンスを停止させる。

```
アクション（右クリック） > インスタンスの状態 > 停止
```

### イメージの作成

```
アクション（右クリック） > イメージ > イメージの作成
```

### イメージからEC2インスタンスの作成

```
（右クリック >）作成
```

セキュリティグループは先に作成したものを流用できる。キーペアも同様に先に作成（ダウンロード）したものを流用できる。

## Elastic IP

IPアドレスを固定化する。

### アドレスの関連付け

EC2インスタンスを選択して固定のIPアドレスと紐づける。

### Elastic IPの料金

実行中のインスタンスに紐づけられて**いない**と加算。
